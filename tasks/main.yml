---
# tasks file for deploy_container
- name: Pull Container
  docker_image:
    name: "{{ docker_registry }}/{{ container_name }}"
    tag: "{{ container_tag }}"

- name: Start Container
  docker_container:
    name: "{{ application_name }}"
    image: "{{ docker_registry }}/{{container_name}}:{{container_tag}}"
    log_driver: "{{ log_driver | default(omit) }}"
    labels: "{{ container_labels | default(omit) }}"
    network_mode: "{{ container_network_mode | default('bridge') }}"
    volumes: "{{ container_volumes | default(omit) }}"
    command: "{{ container_command | default(omit) }}"
    state: started
    restart: yes
    published_ports: ALL